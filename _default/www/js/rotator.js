(function(a){a.fn.wtRotator=function(z){var w="TL";var d="TR";var u="TC";var r="BL";var e="BR";var l="BC";var g=new Array(42);g.fade=0;g["block.top"]=1;g["block.right"]=2;g["block.bottom"]=3;g["block.left"]=4;g["block.drop"]=5;g["diag.fade"]=6;g["diag.exp"]=7;g["rev.diag.fade"]=8;g["rev.diag.exp"]=9;g["block.fade"]=10;g["block.exp"]=11;g["block.top.zz"]=12;g["block.bottom.zz"]=13;g["block.left.zz"]=14;g["block.right.zz"]=15;g["spiral.in"]=16;g["spiral.out"]=17;g["vert.tl"]=18;g["vert.tr"]=19;g["vert.bl"]=20;g["vert.br"]=21;g["fade.left"]=22;g["fade.right"]=23;g["alt.left"]=24;g["alt.right"]=25;g["blinds.left"]=26;g["blinds.right"]=27;g["vert.random.fade"]=28;g["horz.tl"]=29;g["horz.tr"]=30;g["horz.bl"]=31;g["horz.br"]=32;g["fade.top"]=33;g["fade.bottom"]=34;g["alt.top"]=35;g["alt.bottom"]=36;g["blinds.top"]=37;g["blinds.bottom"]=38;g["horz.random.fade"]=39;g.none=40;g.random=41;var x=new Array(4);x.fade=0;x.down=1;x.right=2;x.none=3;var o=5000;var v=800;var t=600;var k=600;var f=0.5;var n="update_text";function b(E,N,L,P,K,F,G){var H;var C;var J;var O=null;var Q=function(){J=Math.ceil(N/P);var S="";for(var R=0;R<J;R++){S+="<div class='vpiece' id='"+R+"'></div>"}E.addToScreen(S);H=a("div.vpiece",E.$el);C=new Array(J);H.each(function(T){a(this).css({left:(T*P),height:L});C[T]=a(this)})};this.clear=function(){clearInterval(O);H.stop(true).css({"z-index":2,opacity:0})};this.displayContent=function(R,S){B(R,S);if(S==g["vert.random.fade"]){M(R)}else{D(R,S)}};var B=function(R,S){switch(S){case g["vert.tl"]:case g["vert.tr"]:I(R,-L,0,P,false);break;case g["vert.bl"]:case g["vert.br"]:I(R,L,0,P,false);break;case g["alt.left"]:case g["alt.right"]:I(R,0,0,P,true);break;case g["blinds.left"]:case g["blinds.right"]:I(R,0,1,0,false);break;default:I(R,0,0,P,false)}};var I=function(R,X,Y,T,W){var aa=R.attr("src");var Z=(L-R.height())/2;var S=(N-R.width())/2;for(var U=0;U<J;U++){var V=((-U*P)+S);if(W){X=(U%2)==0?-L:L}a(H.get(U)).css({background:K+" url('"+aa+"') no-repeat",backgroundPosition:V+"px "+Z+"px",opacity:Y,top:X,width:T,"z-index":3})}};var D=function(T,U){var W,S,V,R;switch(U){case g["vert.tl"]:case g["vert.bl"]:case g["fade.left"]:case g["blinds.left"]:case g["alt.left"]:W=0;S=J-1;V=1;break;default:W=J-1;S=0;V=-1}O=setInterval(function(){a(H.get(W)).animate({top:0,opacity:1,width:P},F,"",function(){if(a(this).attr("id")==S){E.setComplete(T)}});if(W==S){clearInterval(O)}W+=V},G)};var M=function(S){q(C);var R=0;var T=0;O=setInterval(function(){C[R++].animate({opacity:1},F,"",function(){if(++T==J){E.setComplete(S)}});if(R==J){clearInterval(O)}},G)};Q()}function s(E,N,L,P,K,F,G){var H;var C;var J;var O=null;var Q=function(){J=Math.ceil(L/P);var S="";for(var R=0;R<J;R++){S+="<div class='hpiece' id='"+R+"'></div>"}E.addToScreen(S);H=a("div.hpiece",E.$el);C=new Array(J);H.each(function(T){a(this).css({top:(T*P),width:N});C[T]=a(this)})};this.clear=function(){clearInterval(O);H.stop(true).css({"z-index":2,opacity:0})};this.displayContent=function(R,S){B(R,S);if(S==g["horz.random.fade"]){M(R)}else{D(R,S)}};var B=function(R,S){switch(S){case g["horz.tr"]:case g["horz.br"]:I(R,N,0,P,false);break;case g["horz.tl"]:case g["horz.bl"]:I(R,-N,0,P,false);break;case g["alt.top"]:case g["alt.bottom"]:I(R,0,0,P,true);break;case g["blinds.top"]:case g["blinds.bottom"]:I(R,0,1,0,false);break;default:I(R,0,0,P,false)}};var I=function(R,U,X,Z,W){var aa=R.attr("src");var Y=(L-R.height())/2;var S=(N-R.width())/2;for(var V=0;V<J;V++){var T=((-V*P)+Y);if(W){U=(V%2)==0?-N:N}a(H.get(V)).css({background:K+" url('"+aa+"') no-repeat",backgroundPosition:S+"px "+T+"px",opacity:X,left:U,height:Z,"z-index":3})}};var D=function(S,T){var V,R,U;switch(T){case g["horz.tl"]:case g["horz.tr"]:case g["fade.top"]:case g["blinds.top"]:case g["alt.top"]:V=0;R=J-1;U=1;break;default:V=J-1;R=0;U=-1}O=setInterval(function(){a(H.get(V)).animate({left:0,opacity:1,height:P},F,"",function(){if(a(this).attr("id")==R){E.setComplete(S)}});if(V==R){clearInterval(O)}V+=U},G)};var M=function(S){q(C);var R=0;var T=0;O=setInterval(function(){C[R++].animate({opacity:1},F,"",function(){if(++T==J){E.setComplete(S)}});if(R==J){clearInterval(O)}},G)};Q()}function h(L,M,H,N,K,B,U){var J;var C;var O;var G;var I;var W;var V;var T=function(){G=Math.ceil(H/N);I=Math.ceil(M/N);W=G*I;var aa="";for(var Z=0;Z<G;Z++){for(var Y=0;Y<I;Y++){aa+="<div class='block' id='"+Z+"-"+Y+"'></div>"}}L.addToScreen(aa);C=a("div.block",L.$el);C.data({tlId:"0-0",trId:"0-"+(I-1),blId:(G-1)+"-0",brId:(G-1)+"-"+(I-1)});var X=0;O=new Array(W);J=new Array(G);for(var Z=0;Z<G;Z++){J[Z]=new Array(I);for(var Y=0;Y<I;Y++){J[Z][Y]=O[X++]=C.filter("#"+(Z+"-"+Y)).data("top",Z*N)}}};this.clear=function(){clearInterval(V);C.stop(true).css({"z-index":2,opacity:0})};this.displayContent=function(X,Y){switch(Y){case g["diag.fade"]:Q(X,0,N,0);R(X,{opacity:1},false);break;case g["diag.exp"]:Q(X,0,0,0);R(X,{opacity:1,width:N,height:N},false);break;case g["rev.diag.fade"]:Q(X,0,N,0);R(X,{opacity:1},true);break;case g["rev.diag.exp"]:Q(X,0,0,0);R(X,{opacity:1,width:N,height:N},true);break;case g["block.fade"]:Q(X,0,N,0);D(X);break;case g["block.exp"]:Q(X,1,0,0);D(X);break;case g["block.drop"]:Q(X,1,N,-(G*N));D(X);break;case g["block.top.zz"]:case g["block.bottom.zz"]:Q(X,0,N,0);F(X,Y);break;case g["block.left.zz"]:case g["block.right.zz"]:Q(X,0,N,0);P(X,Y);break;case g["spiral.in"]:Q(X,0,N,0);S(X,false);break;case g["spiral.out"]:Q(X,0,N,0);S(X,true);break;default:Q(X,1,0,0);E(X,Y)}};var Q=function(X,ad,ah,ac){var ae=(H-X.height())/2;var Z=(M-X.width())/2;var af=X.attr("src");for(var ab=0;ab<G;ab++){for(var aa=0;aa<I;aa++){var ag=((-ab*N)+ae);var Y=((-aa*N)+Z);J[ab][aa].css({background:K+" url('"+af+"') no-repeat",backgroundPosition:Y+"px "+ag+"px",opacity:ad,top:(ab*N)+ac,left:(aa*N),width:ah,height:ah,"z-index":3})}}};var R=function(X,af,ac){var ae=new Array(W);var Y,ab,Z,aa;var ag=(G-1)+(I-1);if(ac){Y=ag;ab=-1;Z=-1;aa=C.data("tlId")}else{Y=0;ab=ag+1;Z=1;aa=C.data("brId")}var ad=0;while(Y!=ab){i=Math.min(G-1,Y);while(i>=0){j=Math.abs(i-Y);if(j>=I){break}ae[ad++]=J[i][j];i--}Y+=Z}ad=0;V=setInterval(function(){ae[ad++].animate(af,B,"",function(){if(a(this).attr("id")==aa){L.setComplete(X)}});if(ad==W){clearInterval(V)}},U)};var P=function(aa,ab){var Z=true;var Y=0,X,ad,ac;if(ab==g["block.left.zz"]){ac=(I%2==0)?C.data("trId"):C.data("brId");X=0;ad=1}else{ac=(I%2==0)?C.data("tlId"):C.data("blId");X=I-1;ad=-1}V=setInterval(function(){J[Y][X].animate({opacity:1},B,"",function(){if(a(this).attr("id")==ac){L.setComplete(aa)}});if(J[Y][X].attr("id")==ac){clearInterval(V)}(Z?Y++:Y--);if(Y==G||Y<0){Z=!Z;Y=(Z?0:G-1);X+=ad}},U)};var F=function(aa,ab){var Z=true;var Y,X=0,ad,ac;if(ab==g["block.top.zz"]){ac=(G%2==0)?C.data("blId"):C.data("brId");Y=0;ad=1}else{ac=(G%2==0)?C.data("tlId"):C.data("trId");Y=G-1;ad=-1}V=setInterval(function(){J[Y][X].animate({opacity:1},B,"",function(){if(a(this).attr("id")==ac){L.setComplete(aa)}});if(J[Y][X].attr("id")==ac){clearInterval(V)}(Z?X++:X--);if(X==I||X<0){Z=!Z;X=(Z?0:I-1);Y+=ad}},U)};var E=function(Z,aa){var ac=new Array(W);var ad;var ab=0;switch(aa){case g["block.left"]:ad=C.data("brId");for(var X=0;X<I;X++){for(var Y=0;Y<G;Y++){ac[ab++]=J[Y][X]}}break;case g["block.right"]:ad=C.data("blId");for(var X=I-1;X>=0;X--){for(var Y=0;Y<G;Y++){ac[ab++]=J[Y][X]}}break;case g["block.top"]:ad=C.data("brId");for(var Y=0;Y<G;Y++){for(var X=0;X<I;X++){ac[ab++]=J[Y][X]}}break;default:ad=C.data("trId");for(var Y=G-1;Y>=0;Y--){for(var X=0;X<I;X++){ac[ab++]=J[Y][X]}}}ab=0;V=setInterval(function(){ac[ab++].animate({width:N,height:N},B,"",function(){if(a(this).attr("id")==ad){L.setComplete(Z)}});if(ab==W){clearInterval(V)}},U)};var D=function(Y){q(O);var X=0;count=0;V=setInterval(function(){O[X].animate({top:O[X].data("top"),width:N,height:N,opacity:1},B,"",function(){if(++count==W){L.setComplete(Y)}});X++;if(X==W){clearInterval(V)}},U)};var S=function(X,af){var ae=0,ad=0;var ai=G-1;var aj=I-1;var Z=0;var ac=aj;var ah=new Array();while(ai>=0&&aj>=0){var ag=0;while(true){ah[ah.length]=J[ae][ad];if((++ag)>ac){break}switch(Z){case 0:ad++;break;case 1:ae++;break;case 2:ad--;break;case 3:ae--}}switch(Z){case 0:Z=1;ac=(--ai);ae++;break;case 1:Z=2;ac=(--aj);ad--;break;case 2:Z=3;ac=(--ai);ae--;break;case 3:Z=0;ac=(--aj);ad++}}if(ah.length>0){if(af){ah.reverse()}var ab=ah.length-1;var Y=ah[ab].attr("id");var aa=0;V=setInterval(function(){ah[aa].animate({opacity:1},B,"",function(){if(a(this).attr("id")==Y){L.setComplete(X)}});if(aa==ab){clearInterval(V)}aa++},U)}};T()}function y(a9,a6){var af=c(a6.width,800);var a1=c(a6.height,300);var aX=A(a6.button_margin,0);var ae=a6.transition.toLowerCase();var aj=c(a6.transition_speed,v);var T=c(a6.delay,o);var aw=a6.auto_start;var aN=a6.cpanel_align.toUpperCase();var Z=c(a6.button_width,24);var aH=c(a6.button_height,24);var D=a6.display_thumbs;var au=a6.display_dbuttons;var at=a6.display_playbutton;var ao=a6.display_tooltip;var ad=a6.display_numbers;var W=a6.display_timer;var an=a6.cpanel_mouseover;var al=a6.text_mouseover;var aW=a6.mouseover_pause;var ak=a6.text_effect.toLowerCase();var M=a6.shuffle;var aa;var ah;var F;var O;var ay;var aI;var aS=null;var aD=(jQuery.browser.msie)?true:false;var aO=a(".wt-rotator",a9);var ai=aO.find(">a:first");var aB=aO.find("div.desc");var C=aO.find("div.preloader");var G=aO.find("div.c-panel");var aK=aO.find("div.thumbnails");var ba=aK.find("ul>li");var H=aO.find("div.buttons");var P=H.find("div.play-btn");var N=H.find("div.prev-btn");var aT=H.find("div.next-btn");var Q;var J;var aq;var V;this.$el=a9;this.init=function(){ah=0;aa=ba.size();aq=new Array(aa);var bb=aO.css("background-color");aO.css({width:af,height:a1});C.css({top:Math.round((a1-C.outerHeight())/2),left:Math.round((af-C.outerWidth())/2)}).show();ax();aL();aF();a5();am();O=new b(this,af,a1,c(a6.vert_size,50),bb,aj,c(a6.vstripe_delay,75));ay=new s(this,af,a1,c(a6.horz_size,50),bb,aj,c(a6.hstripe_delay,75));aI=new h(this,af,a1,c(a6.block_size,100),bb,aj,c(a6.block_delay,50));aQ(0);ar(ah)};this.setComplete=function(bb){B(bb)};this.addToScreen=function(bb){ai.append(bb)};var ax=function(){aB.append("<div class='inner-text'></div>");V=aB.find("div.inner-text");if(al){aO.hover(Y,ac)}else{aO.bind(n,aM)}};var a5=function(){if(D||au||at){G.css({width:H.outerWidth(true)+aK.outerWidth(true),"margin-top":aX,"margin-right":0,"margin-bottom":aX,"margin-left":aX});var bc=G.outerWidth(true);var bb=G.outerHeight(true);switch(aN){case w:aP(0,0,-bb,"left");break;case u:aP(0,Math.round((af-bc)/2),-bb,"right");break;case d:aP(0,(af-bc),-bb,"right");break;case r:aP((a1-bb),0,a1,"left");break;case l:aP((a1-bb),Math.round((af-bc)/2),a1,"right");break;default:aP((a1-bb),(af-bc),a1,"right")}if(an){aO.hover(a7,ap)}G.css("visibility","visible")}};var aP=function(bb,bd,bc,be){G.data({offset:bc,pos:bb}).css({top:(an?bc:bb),left:bd});aK.css("float",be);H.css("float",be)};var aF=function(){var bb={"margin-right":aX,width:Z,height:aH};if(au){N.css(bb).click(ag).mouseover(E).mouseout(aJ).mousedown(ab);aT.css(bb).click(I).mouseover(E).mouseout(aJ).mousedown(ab)}else{N.hide();aT.hide()}if(at){if(aw){P.addClass("pause")}P.css(bb).click(X).mouseover(E).mouseout(aJ).mousedown(ab)}else{P.hide()}if(aW){aO.hover(aA,U)}};var am=function(){aO.append("<div id='timer'></div>");Q=aO.find("#timer").data("pct",1);if(W){Q.css({opacity:f,visibility:"visible"});switch(aN){case w:case u:case d:Q.css("top",a1-Q.height());break;default:Q.css("top",0)}}else{Q.hide()}};var aL=function(){var bb=V.outerHeight()-V.height();ba.each(function(bd){var bc=a(this).find(">a:first");a(this).data({imgurl:bc.attr("href"),caption:bc.attr("title"),effect:g[a(this).attr("effect")]!=undefined?g[a(this).attr("effect")]:g[ae],delay:c(a(this).attr("delay"),T)});aY(a(this),bb);aq[bd]=a(this);if(ad){a(this).append(bd+1)}});V.css({width:"auto",height:"auto"}).html("");aB.css("visibility","visible");if(M){L()}if(D){ba.css({width:Z,height:aH,"line-height":aH+"px","margin-right":aX}).click(aC).mouseover(a0).mouseout(S).mousedown(ab);aZ()}else{ba.hide()}};var aY=function(bb,bd){var bc=bb.find(">p:first");var bf=c(parseInt(bc.css("width")),280);var be=c(parseInt(bc.css("height")),0);V.width(bf).html(bc.html());if(be<V.height()){be=V.height()}bb.data("textbox",{x:bc.css("left"),y:bc.css("top"),w:(bf+bd),h:(be+bd)})};var aZ=function(){if(ao){J=a("<div id='tool-tip'></div>");aO.after(J);switch(aN){case w:case u:case d:J.data({bottom:true,yOffset:23});break;default:J.data({bottom:false,yOffset:5})}for(var bc=0;bc<aq.length;bc++){var bb=aq[bc].data("caption");if(bb!=""){aq[bc].mouseover(a3).mouseout(az).bind("mousemove",R)}}}};var a3=function(bb){var bc=J.data("bottom")?J.data("yOffset"):-(J.outerHeight()+J.data("yOffset"));J.html(aq[a(this).index()].data("caption")).css({top:bb.pageY+bc,left:bb.pageX-8}).stop(true,true).delay(k).fadeIn(300)};var az=function(){J.stop(true,true).fadeOut(0)};var R=function(bb){var bc=J.data("bottom")?J.data("yOffset"):-(J.outerHeight()+J.data("yOffset"));J.css({top:bb.pageY+bc,left:bb.pageX-8})};var a7=function(){G.stop(true).animate({top:G.data("pos"),opacity:1},t)};var ap=function(){G.stop(true).animate({top:G.data("offset"),opacity:0},t)};var aC=function(){aU();ah=a(this).index();ar(ah);return false};var a0=function(){a(this).addClass("thumb-over")};var S=function(){a(this).removeClass("thumb-over")};var ag=function(){aU();ah=(ah>0)?(ah-1):(aa-1);ar(ah);return false};var I=function(){aU();ah=(ah<aa-1)?(ah+1):0;ar(ah);return false};var X=function(){aw=!aw;a(this).toggleClass("pause",aw);aw?aE():K();return false};var U=function(){aw=true;P.toggleClass("pause",aw);aE()};var aA=function(){aw=false;P.toggleClass("pause",aw);K()};var E=function(){a(this).addClass("button-over")};var aJ=function(){a(this).removeClass("button-over")};var aM=function(bc){if(!aB.data("visible")){aB.data("visible",true);var bd=aq[ah].find(">p:first").html();if(bd&&bd.length>0){var bb=aq[ah].data("textbox");switch(x[ak]){case x.fade:aG(bd,bb);break;case x.down:aV(bd,{opacity:1,top:bb.y,left:bb.x,width:bb.w,height:0},{height:bb.h});break;case x.right:aV(bd,{opacity:1,top:bb.y,left:bb.x,width:0,height:bb.h},{width:bb.w});break;default:a8(bd,bb)}}}};var a2=function(){aB.data("visible",false).stop(true).css({opacity:0})};var aV=function(bd,bc,bb){V.html("");aB.stop(true).css(bc).animate(bb,t,function(){V.html(bd);if(aD){this.style.removeAttribute("filter")}})};var aG=function(bc,bb){V.html(bc);aB.stop(true).css({top:bb.y,left:bb.x,width:bb.w,height:bb.h}).animate({opacity:1},t,function(){if(aD){this.style.removeAttribute("filter")}})};var a8=function(bc,bb){aB.stop(true).css({opacity:1,top:bb.y,left:bb.x,width:bb.w,height:bb.h});V.html(bc)};var Y=function(){aO.unbind(n).bind(n,aM).trigger(n)};var ac=function(){aO.unbind(n);a2()};var ar=function(bd){ba.filter(".curr-thumb").removeClass("curr-thumb");a(ba.get(bd)).addClass("curr-thumb");F=aq[bd].data("delay");a2();var be=aq[bd].find(">a:nth-child(2)");var bb=be.attr("href");if(bb){ai.unbind("click").css({cursor:"pointer"}).attr({href:bb,target:be.attr("target")})}else{ai.click(ab).css({cursor:"default"})}if(aq[bd].data("img")){C.hide();av(aq[bd].data("img"))}else{var bc=a("<img class='main-img'/>");bc.attr("src",aq[bd].data("imgurl"));if(!bc[0].complete){C.show();bc.load(function(){C.hide();a4(aq[bd],a(this));av(a(this))}).error(function(){alert("Error loading image")})}else{C.hide();a4(aq[bd],bc);av(bc)}}};var av=function(bb){O.clear();ay.clear();aI.clear();var bc=aq[ah].data("effect");if(bc==g.none){B(bb);return}if(bc==g.random){bc=Math.floor(Math.random()*(g.length-2))}if(bc==g.fade){aR(bb)}else{if(bc<g["vert.tl"]){aI.displayContent(bb,bc)}else{if(bc<g["horz.tl"]){O.displayContent(bb,bc)}else{ay.displayContent(bb,bc)}}}};var B=function(bb){aO.trigger(n);a("img.main-img",ai).removeAttr("id").hide();bb.attr("id","curr-img").show();aE()};var aR=function(bb){a("img#curr-img",ai).stop(true,true);a("img.main-img",ai).removeAttr("id").css("z-index",0);bb.attr("id","curr-img").css("z-index",1).stop(true,true).fadeIn(aj,function(){a("img.main-img:not('#curr-img')",ai).hide();aO.trigger(n);aE()})};var aQ=function(bc){var bb=aq[bc];var bd=a("<img class='main-img'/>");bd.attr("src",bb.data("imgurl"));bd.load(function(){if(!bb.data("img")){a4(bb,a(this))}bc++;if(bc<aq.length){aQ(bc)}}).error(function(){bc++;if(bc<aq.length){aQ(bc)}})};var a4=function(bd,bf){ai.append(bf);var bi=(a1-bf.height())/2;var be=(af-bf.width())/2;var bh=0,bg=0,bc=0,bb=0;if(bi>0){bc=bi}else{if(bi<0){bh=bi}}if(be>0){bb=be}else{if(be<0){bg=be}}bf.css({top:bh,left:bg,"padding-top":bc,"padding-bottom":bc,"padding-left":bb,"padding-right":bb});bd.data("img",bf)};var aE=function(){if(aw&&aS==null){var bb=Math.round(Q.data("pct")*F);Q.animate({width:(af+2)},bb);aS=setTimeout(I,bb)}};var aU=function(){clearTimeout(aS);aS=null;Q.stop(true).width(0).data("pct",1)};var K=function(){clearTimeout(aS);aS=null;var bb=1-(Q.width()/(af+2));Q.stop(true).data("pct",bb)};var L=function(){for(var bd=0;bd<aq.length;bd++){var bb=Math.floor(Math.random()*aq.length);var bc=aq[bd];aq[bd]=aq[bb];aq[bb]=bc}};var ab=function(){return false}}var c=function(B,C){if(!isNaN(B)&&B>0){return B}return C};var A=function(B,C){if(!isNaN(B)&&B>=0){return B}return C};var q=function(B){var F=B.length;for(var E=0;E<F;E++){var C=Math.floor(Math.random()*F);var D=B[E];B[E]=B[C];B[C]=D}};var m={width:825,height:300,button_width:24,button_height:24,button_margin:4,auto_start:true,delay:o,transition:"fade",transition_speed:v,cpanel_align:e,display_thumbs:true,display_dbuttons:true,display_playbutton:true,display_tooltip:true,display_numbers:true,display_timer:true,mouseover_pause:false,cpanel_mouseover:false,text_mouseover:false,text_effect:"fade",shuffle:false,block_size:75,vert_size:55,horz_size:50,block_delay:25,vstripe_delay:75,hstripe_delay:75};var p=a.extend({},m,z);return this.each(function(){var B=new y(a(this),p);B.init()})}})(jQuery);